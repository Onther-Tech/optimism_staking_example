<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1693pt" height="766pt"
 viewBox="0.00 0.00 1693.03 766.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 762)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-762 1689.0296,-762 1689.0296,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-.5 0,-343.7 416.8886,-343.7 416.8886,-.5 0,-.5"/>
<text text-anchor="middle" x="208.4443" y="-327.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="208.4443" y="-310.3" font-family="Times,serif" font-size="14.00" fill="#000000">Abs_L2DepositedToken</text>
<polyline fill="none" stroke="#000000" points="0,-302.1 416.8886,-302.1 "/>
<text text-anchor="start" x="8" y="-285.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-268.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l1TokenGateway: iOVM_L1TokenGateway</text>
<text text-anchor="start" x="8" y="-251.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;DEFAULT_FINALIZE_WITHDRAWAL_L1_GAS: uint32</text>
<polyline fill="none" stroke="#000000" points="0,-243.7 416.8886,-243.7 "/>
<text text-anchor="start" x="8" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_handleInitiateWithdrawal(address, uint)</text>
<text text-anchor="start" x="8" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_handleFinalizeDeposit(address, uint)</text>
<text text-anchor="start" x="8" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initiateWithdrawal(_to: address, _amount: uint)</text>
<text text-anchor="start" x="8" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(_amount: uint)</text>
<text text-anchor="start" x="8" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdrawTo(_to: address, _amount: uint)</text>
<text text-anchor="start" x="8" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;finalizeDeposit(_to: address, _amount: uint)</text>
<text text-anchor="start" x="8" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Initialized(_l1TokenGateway: iOVM_L1TokenGateway)</text>
<text text-anchor="start" x="8" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyInitialized()</text>
<text text-anchor="start" x="8" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_l2CrossDomainMessenger: address)</text>
<text text-anchor="start" x="8" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_l1TokenGateway: iOVM_L1TokenGateway)</text>
<text text-anchor="start" x="8" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFinalizeWithdrawalL1Gas(): uint32</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="405.2749,-397.5 405.2749,-740.7 855.6137,-740.7 855.6137,-397.5 405.2749,-397.5"/>
<text text-anchor="middle" x="630.4443" y="-724.1" font-family="Times,serif" font-size="14.00" fill="#000000">ERC20</text>
<polyline fill="none" stroke="#000000" points="405.2749,-715.9 855.6137,-715.9 "/>
<text text-anchor="start" x="413.2749" y="-699.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="413.2749" y="-682.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;balances: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="413.2749" y="-665.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;allowances: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="413.2749" y="-648.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalSupply: uint256</text>
<text text-anchor="start" x="413.2749" y="-632.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;name: string</text>
<polyline fill="none" stroke="#000000" points="405.2749,-623.9 855.6137,-623.9 "/>
<text text-anchor="start" x="413.2749" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="413.2749" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(_who: address, _amount: uint256)</text>
<text text-anchor="start" x="413.2749" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burn(_who: address, _amount: uint256)</text>
<text text-anchor="start" x="413.2749" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="413.2749" y="-540.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balanceOf(_owner: address): uint256</text>
<text text-anchor="start" x="413.2749" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;approve(_spender: address, _amount: uint256): bool</text>
<text text-anchor="start" x="413.2749" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowance(_owner: address, _spender: address): uint256</text>
<text text-anchor="start" x="413.2749" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="413.2749" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Transfer(_from: address, _to: address, _value: uint256)</text>
<text text-anchor="start" x="413.2749" y="-456.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Approval(_owner: address, _spender: address, _value: uint256)</text>
<text text-anchor="start" x="413.2749" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_initialSupply: uint256, _name: string)</text>
<text text-anchor="start" x="413.2749" y="-422.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transfer(_to: address, _amount: uint256): bool</text>
<text text-anchor="start" x="413.2749" y="-405.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(_from: address, _to: address, _amount: uint256): bool</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="435.0536,-101.3 435.0536,-242.9 825.835,-242.9 825.835,-101.3 435.0536,-101.3"/>
<text text-anchor="middle" x="630.4443" y="-226.3" font-family="Times,serif" font-size="14.00" fill="#000000">L2DepositedERC20</text>
<polyline fill="none" stroke="#000000" points="435.0536,-218.1 825.835,-218.1 "/>
<text text-anchor="middle" x="630.4443" y="-201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="435.0536,-193.3 825.835,-193.3 "/>
<text text-anchor="start" x="443.0536" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="443.0536" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_handleInitiateWithdrawal(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="443.0536" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_handleFinalizeDeposit(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="443.0536" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="443.0536" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_l2CrossDomainMessenger: address, _name: string)</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M630.4443,-243.0756C630.4443,-278.2177 630.4443,-322.6071 630.4443,-367.2241"/>
<polygon fill="none" stroke="#000000" points="619.9444,-367.2564 630.4443,-397.2565 640.9444,-367.2565 619.9444,-367.2564"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="873.4271,-380.7 873.4271,-757.5 1209.4615,-757.5 1209.4615,-380.7 873.4271,-380.7"/>
<text text-anchor="middle" x="1041.4443" y="-740.9" font-family="Times,serif" font-size="14.00" fill="#000000">L2StakingERC20</text>
<polyline fill="none" stroke="#000000" points="873.4271,-732.7 1209.4615,-732.7 "/>
<text text-anchor="start" x="881.4271" y="-716.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="881.4271" y="-699.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ton: IERC20</text>
<text text-anchor="start" x="881.4271" y="-682.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;userIn: mapping(address=&gt;UserInfo)</text>
<text text-anchor="start" x="881.4271" y="-665.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tonPerShare: uint256</text>
<text text-anchor="start" x="881.4271" y="-648.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lastRewardBlock: uint256</text>
<text text-anchor="start" x="881.4271" y="-632.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalAmount: uint256</text>
<text text-anchor="start" x="881.4271" y="-615.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tokenPerBlock: uint256</text>
<polyline fill="none" stroke="#000000" points="873.4271,-607.1 1209.4615,-607.1 "/>
<text text-anchor="start" x="881.4271" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="881.4271" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTonTransfer(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="881.4271" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="881.4271" y="-540.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBlocknumber(): uint256</text>
<text text-anchor="start" x="881.4271" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getNowBlock(): uint256</text>
<text text-anchor="start" x="881.4271" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;claim()</text>
<text text-anchor="start" x="881.4271" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pendingTon(_user: address): uint256</text>
<text text-anchor="start" x="881.4271" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="881.4271" y="-456.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_ton: address, _tokenPerBlock: uint256)</text>
<text text-anchor="start" x="881.4271" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBlockPeriod(_from: uint256, _to: uint256): uint256</text>
<text text-anchor="start" x="881.4271" y="-422.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateReward()</text>
<text text-anchor="start" x="881.4271" y="-405.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deposit(_amount: uint256)</text>
<text text-anchor="start" x="881.4271" y="-388.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(_amount: uint256)</text>
</g>
<!-- 3struct0 -->
<g id="node5" class="node">
<title>3struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="975.324,-130.5 975.324,-213.7 1107.5646,-213.7 1107.5646,-130.5 975.324,-130.5"/>
<text text-anchor="middle" x="1041.4443" y="-197.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1041.4443" y="-180.3" font-family="Times,serif" font-size="14.00" fill="#000000">UserInfo</text>
<polyline fill="none" stroke="#000000" points="975.324,-172.1 1107.5646,-172.1 "/>
<text text-anchor="start" x="983.324" y="-155.5" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint256</text>
<text text-anchor="start" x="983.324" y="-138.7" font-family="Times,serif" font-size="14.00" fill="#000000">rewardDebt: uint256</text>
</g>
<!-- 3struct0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>3struct0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M1041.4443,-213.8356C1041.4443,-251.4576 1041.4443,-309.7068 1041.4443,-368.2307"/>
<polygon fill="#000000" stroke="#000000" points="1041.4444,-368.3238 1045.4443,-374.3238 1041.4443,-380.3238 1037.4443,-374.3237 1041.4444,-368.3238"/>
</g>
<!-- 4 -->
<g id="node6" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1125.859,-92.9 1125.859,-251.3 1685.0296,-251.3 1685.0296,-92.9 1125.859,-92.9"/>
<text text-anchor="middle" x="1405.4443" y="-234.7" font-family="Times,serif" font-size="14.00" fill="#000000">OVM_L1ERC20Gateway</text>
<polyline fill="none" stroke="#000000" points="1125.859,-226.5 1685.0296,-226.5 "/>
<text text-anchor="start" x="1133.859" y="-209.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1133.859" y="-193.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l1ERC20: iOVM_ERC20</text>
<polyline fill="none" stroke="#000000" points="1125.859,-184.9 1685.0296,-184.9 "/>
<text text-anchor="start" x="1133.859" y="-168.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1133.859" y="-151.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_handleInitiateDeposit(_from: address, address, _amount: uint256)</text>
<text text-anchor="start" x="1133.859" y="-134.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_handleFinalizeWithdrawal(_to: address, _amount: uint)</text>
<text text-anchor="start" x="1133.859" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1133.859" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_l1ERC20: iOVM_ERC20, _l2DepositedERC20: address, _l1messenger: address)</text>
</g>
</g>
</svg>
